<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>F1 Reaction Test</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #0c0c0c;
    color: white;
    text-align: center;
    padding-top: 20px;
}

h1 { margin-bottom: 10px; }
p { opacity: 0.8; }

.f1-start {
    width: 260px;
    margin: 30px auto;
    padding: 20px;
    background: #111;
    border-radius: 15px;
}

.columns {
    display: flex;
    justify-content: center;
    gap: 8px;
}

.column {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.light {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    background: #300;
}

.light.on {
    background: red;
    box-shadow: 0 0 20px red;
}

button {
    padding: 15px 40px;
    font-size: 22px;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    margin: 15px;
    color: white;
}

#startBtn { background: #007bff; }
#stopBtn { background: #28a745; display: none; }

#result {
    font-size: 28px;
    margin-top: 15px;
}

table {
    margin: 30px auto;
    border-collapse: collapse;
    width: 300px;
}

th, td {
    border: 1px solid #444;
    padding: 8px;
}

th {
    background: #222;
}
</style>
</head>

<body>

<h1>–¢–µ—Å—Ç —Ä–µ–∞–∫—Ü–∏–∏ F1</h1>
<p>–ù–∞–∂–º–∏ START –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏ —Ç–∞–π–º–µ—Ä –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ</p>

<div class="f1-start">
    <div class="columns" id="columns"></div>
</div>

<button id="startBtn">START</button>
<button id="stopBtn">STOP</button>

<div id="result"></div>

<h2>üèÜ –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤</h2>
<table>
    <thead>
        <tr><th>–ú–µ—Å—Ç–æ</th><th>–í—Ä–µ–º—è (–º—Å)</th></tr>
    </thead>
    <tbody id="records"></tbody>
</table>

<script>
let columns = [];
let timerStarted = false;
let startTime = 0;

function createLights() {
    const c = document.getElementById("columns");
    c.innerHTML = "";
    columns = [];

    for (let i = 0; i < 5; i++) {
        const col = document.createElement("div");
        col.className = "column";
        const lights = [];

        for (let j = 0; j < 3; j++) {
            const l = document.createElement("div");
            l.className = "light";
            col.appendChild(l);
            lights.push(l);
        }

        c.appendChild(col);
        columns.push(lights);
    }
}

createLights();

function sleep(ms) {
    return new Promise(r => setTimeout(r, ms));
}

async function start() {
    document.getElementById("result").innerText = "";
    document.getElementById("startBtn").style.display = "none";
    document.getElementById("stopBtn").style.display = "inline-block";
    timerStarted = false;
    createLights();

    for (let i = 0; i < 5; i++) {
        columns[i].forEach(l => l.classList.add("on"));
        await sleep(700);
    }

    await sleep(Math.random() * 2000 + 1500);

    columns.flat().forEach(l => l.classList.remove("on"));

    timerStarted = true;
    startTime = performance.now();
}

function stop() {
    if (!timerStarted) {
        document.getElementById("result").innerText = "‚ùå –§–∞–ª—å—Å—Ç–∞—Ä—Ç!";
        reset();
        return;
    }

    const reaction = Math.round(performance.now() - startTime);
    document.getElementById("result").innerHTML = `‚è± ${reaction} –º—Å`;

    saveRecord(reaction);
    showRecords();
    reset();
}

function reset() {
    document.getElementById("startBtn").style.display = "inline-block";
    document.getElementById("stopBtn").style.display = "none";
}

function saveRecord(time) {
    let records = JSON.parse(localStorage.getItem("f1Records")) || [];
    records.push(time);
    records.sort((a, b) => a - b);
    records = records.slice(0, 5);
    localStorage.setItem("f1Records", JSON.stringify(records));
}

function showRecords() {
    const tbody = document.getElementById("records");
    tbody.innerHTML = "";
    const records = JSON.parse(localStorage.getItem("f1Records")) || [];

    records.forEach((time, i) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `<td>${i + 1}</td><td>${time}</td>`;
        tbody.appendChild(tr);
    });
}

showRecords();

document.getElementById("startBtn").addEventListener("click", start);
document.getElementById("stopBtn").addEventListener("click", stop);
</script>
<hr style="margin:40px 0;opacity:0.3">

<section style="max-width:700px;margin:auto;text-align:left">
    <h2>üìò –û –ø—Ä–æ–µ–∫—Ç–µ</h2>
    <p>
        –î–∞–Ω–Ω—ã–π —Å–∞–π—Ç –∏–º–∏—Ç–∏—Ä—É–µ—Ç —Å—Ç–∞—Ä—Ç –≥–æ–Ω–∫–∏ –§–æ—Ä–º—É–ª—ã-1 –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ—Ä–∏—Ç—å
        –≤—Ä–µ–º—è —Ä–µ–∞–∫—Ü–∏–∏ —á–µ–ª–æ–≤–µ–∫–∞. –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö.
    </p>

    <h2>üß† –ü–æ—á–µ–º—É —Ä–µ–∞–∫—Ü–∏—è –≤–∞–∂–Ω–∞</h2>
    <p>
        –í –∞–≤—Ç–æ—Å–ø–æ—Ä—Ç–µ —Ä–µ–∞–∫—Ü–∏—è –∏–≥—Ä–∞–µ—Ç –∫–ª—é—á–µ–≤—É—é —Ä–æ–ª—å. –†–∞–∑–Ω–∏—Ü–∞ –¥–∞–∂–µ –≤
        –¥–æ–ª–∏ —Å–µ–∫—É–Ω–¥—ã –º–æ–∂–µ—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≥–æ–Ω–∫–∏.
    </p>

    <h2>üìã –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è</h2>
    <ol>
        <li>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É START</li>
        <li>–î–æ–∂–¥–∏—Ç–µ—Å—å, –ø–æ–∫–∞ –ø–æ–≥–∞—Å–Ω—É—Ç –≤—Å–µ –æ–≥–Ω–∏</li>
        <li>–ö–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ –Ω–∞–∂–º–∏—Ç–µ STOP</li>
        <li>–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –æ—Ü–µ–Ω–∫—É</li>
    </ol>

    <h2>üìä –û—Ü–µ–Ω–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</h2>
    <p>
        –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≥–æ–Ω—â–∏–∫–∏ –§–æ—Ä–º—É–ª—ã-1 –∏–º–µ—é—Ç —Ä–µ–∞–∫—Ü–∏—é –æ–∫–æ–ª–æ 200 –º—Å.
        –°—Ä–µ–¥–Ω—è—è —Ä–µ–∞–∫—Ü–∏—è –æ–±—ã—á–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ ‚Äî 250‚Äì300 –º—Å.
    </p>

    <h2>‚úâÔ∏è –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</h2>
    <input placeholder="–í–∞—à–µ –∏–º—è" style="width:100%;padding:8px"><br><br>
    <textarea placeholder="–í–∞—à –æ—Ç–∑—ã–≤" style="width:100%;padding:8px"></textarea><br><br>
    <button onclick="alert('–°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ç–∑—ã–≤!')">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>

    <h2>üë§ –ê–≤—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞</h2>
    <p>
        –ê–≤—Ç–æ—Ä: <b>–¢–≤–æ—ë –∏–º—è</b><br>
        –ö–ª–∞—Å—Å: ‚Ä¶<br>
        –®–∫–æ–ª–∞: ‚Ä¶
    </p>
</section>
</body>
</html>
